\chapter{Domainmodel}

\begin{figure}[ht!]
	\centering{
		\resizebox{0.9\textwidth}{!} {
			\begin{tikzpicture}
				% row by row
				\umlemptyclass[x=5,y=0]{Rule}
				\umlemptyclass[x=10,y=0]{AchievementDefinition}

				\umlemptyclass[x=10,y=-3]{Achievement}
				\umlemptyclass[x=15,y=-3]{Community}

				\umlemptyclass[x=5,y=-7]{Role}
				\umlemptyclass[x=10,y=-7]{User}
				\umlemptyclass[x=15,y=-7]{Task}

				\umlemptyclass[x=2,y=-11]{Resident}
				\umlemptyclass[x=5,y=-11]{Administrator}
				\umlemptyclass[x=8,y=-11]{None}

				% notes
				\umlnote[x=4,y=-3]{Rule}{- Timebased\\*
													- Completion based\\*
													- Points based\\*
													TODO}

				% relation
				\umlassoc[mult1=1,mult2=1..*,stereo=<has]{Rule}{AchievementDefinition}
				\umlassoc[mult1=1,mult2=0..*,stereo=defines>]{AchievementDefinition}{Achievement}
				\umlassoc[mult1=0..*,mult2=1,stereo=belongs to>]{Achievement}{User}
				\umlassoc[mult1=1,mult2=0..*,stereo=<belongs to]{Community}{Task}
				\umlassoc[mult1=*,mult2=*,stereo=<has]{Role}{User}
				\umlassoc[mult1=1,mult2=0..*,stereo=creates>]{User}{Task}
				\umlassoc[geometry=|-|,arm1=-2cm,mult1=1,mult2=0..*,stereo=fulfill>]{User}{Task} %TODO: fix it

				% inherit
				\umlinherit[geometry=|-|]{Resident}{Role}
				\umlinherit[]{Administrator}{Role}
				\umlinherit[geometry=|-|]{None}{Role}

			\end{tikzpicture}
		}
	}
	\caption{Domain Modell}
\end{figure}

